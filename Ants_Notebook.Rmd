---
title: "Co-existence of ants in the Cederberg Region"
output: html_document
  html_document:
    df_print: paged
    
```{r, echo=TRUE, fig.width = 12, fig.height = 8} 
#loading necessary libraries
library(tidyverse)
library(readxl) 
library(ggplot2)
library(GGally)
library(dplyr)

#reading data from Excel file
edat <- read_xlsx("data/Ant data Oct 2002_fixed.xlsx", sheet = "Sheet1")   

#Remove point and repetition numbers from site
 sdat <- edat %>% separate(Site, ".")
names(sdat)[names(sdat) == "."] <- "Site"

# Loop over each unique site and create separate plots
unique_sites <- unique(sdat$Site)

for(site in unique_sites) {
  # Subset data for the current site
  site_data <- sdat %>% filter(Site == site)
  
  # Create the bar plot for the current site
  p <- ggplot(site_data, aes(x = Species, y = Abundance, fill = Species)) +
    geom_bar(stat = "identity") +
    theme(axis.text.x = element_text(angle = 45, hjust = 0.5, size = 5)) +  # Rotate species labels
    labs(title = paste("Species Abundance at", site), x = "Species", y = "Abundance") +
    theme_minimal()
  
  # Print the plot
  print(p)
}

```



